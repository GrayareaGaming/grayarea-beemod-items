# Grayarea's [BEEMod](https://github.com/BEEmod/BEE2.4) Items

Currently this collection has just one item: my take on the Schrödinger Cube.

## Schrödinger Cube

This cube type was included in the game files of the [Peer Review DLC](https://half-life.fandom.com/wiki/Peer_Review) but was never released in a usable form. It was released in the [Portal Revolution](https://www.portalrevolution.com) mod for Portal 2, and will be native to [P2:CE](https://portal2communityedition.com/).

This take on the Schrödinger Cube essentially behaves like both a laser catcher and emitter which can be connected to or from any item.

To create the traditional pair of Schrödinger Cubes, connect each cube to its partner (A → B and B → A).

Other connection patterns are also supported, such as loops (A → B → C → A), using the cube as a catcher connected to a bridge/funnel, or as a portable laser activated by a button or other item.

- The _Camera_ item property creates a monitor when carrying a cube showing the view from the linked cube. See the _Item Properties_ page for this and other options.
- _Start Enabled_ flips the laser emitter state as with a normal emitter.
- _Start Active_ changes the input logic from AND (the default) to OR. When set, any input to the cube will activate the laser emitter.
- _Start Reversed_ causes the cube to _not_ fizzle the cube it's connected to when fizzled itself.
- To place a dropper version, place the item underneath a regular cube dropper, or use the [timer to link them](https://github.com/BEEmod/BEE2-items/wiki/Default-PeTI-Items#cubes).
- The _Cube Coloriser_ is supported, although the effect is subtle. Due to a known issue, it may be necessary to edit at least one color in _Item Properties_ for this to work.
- The cube's laser emitter follows the _Laser Auto-Aim_ property in _Default Test Elements_. It's recommended to turn this off due to these cube containing a laser catcher."

### Technique Used

As the Schrödinger Cube was unfinished in stock Portal 2, some tricks are required to emulate it. Under the hood, the cube is a regular reflector cube, however when the cube's input is deactivated, there's a tiny invisible `func_brush` blocker that prevents the laser escaping from the cube. Behind the blocker is a `point_laser_target` which functions as the cube's catcher. The catcher also prevents sparks from being generated by the blocker. When the cube's input is activated, there's an `env_portal_laser` entity in front of the blocker which acts as the emitter and an `info_particle_system` to emulate a powered reflector cube.

Two known issues with this approach are:
- Lasers aimed at the cube can sometimes hit the blocker.
- The `env_portal_laser` does not move as smoothly as the laser from a regular reflector cube in motion.
- Gels cannot be transferred to the linked cube as the gel type is not available.

### Acknowledgements
- Thanks to [Portal Revolution](https://www.portalrevolution.com) for permission to use the Schrödinger Cube model in this item. Rights to the model files in this project belong entirely to them.
- Thanks to Axo for [BEE2-Axo's-Packages](https://github.com/AxoLabs/BEE2-Axos-Packages) for the inspiration for this item.
